<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>piso = 0;
corriendo = true;
global.salidaX = 1;
global.salidaY = 1;
global.entradaX = 1+irandom(5)*2;
global.entradaY = 1+irandom(5)*2;
global.sigTurno = false;
global.surfaceSombra = noone;

if (!global.test)
    instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// dibujar y mostrar estadisticas.
if (piso == 0) {
    scrolls = 0;
    espinas = 0;
    gases = 0;
    panes = 0;
    carteles = 0;
    orbes = 0;
    npcs = 0;
    altar = 0;
    tesoros = 0;
    obstaculos = 0;
    dardos = 0;
    paredes_falsas = 0;
}

if (corriendo)
with (instance_create(0,0,obj_generarPisoNuevo)) {
    other.piso++;
    
    var ancho = ds_grid_width(planos);
    var alto = ds_grid_height(planos);
    
    var hayespinas = false;
    var haygas = false;
    for (var xx = 0; xx &lt; ancho; xx++) {
    for (var yy = 0; yy &lt; alto ; yy++) {
        switch(planos[# xx,yy]) {
            case CeldaValor.scroll: other.scrolls++; break;
            case CeldaValor.espinas_piso: hayespinas = true; break;
            case CeldaValor.gas: haygas = true; break;
            case CeldaValor.pan: other.panes++; break;
            case CeldaValor.cartel_historia: other.carteles++; break;
            case CeldaValor.orbe: other.orbes++; break;
            case CeldaValor.normal_npc: other.npcs++; break;
            case CeldaValor.circulo_magico: other.altar++; break;
            case CeldaValor.tesoro: other.tesoros++; break;
            case CeldaValor.trampa_pared: other.dardos++; break;
            case CeldaValor.pared_falsa: other.paredes_falsas++; break;
        }
    }}
    if (hayespinas) other.espinas++;
    if (haygas) other.gases++;

    ds_grid_destroy(planos);
    ds_grid_destroy(planos_profundidad);
    instance_destroy();
}

var pos = 0;
var sepa_y = 16;
draw_text(x,y+sepa_y*pos++,"pisos:" + string(piso));
draw_text(x,y+sepa_y*pos++,"scrolls:" + string(100*scrolls/piso));
draw_text(x,y+sepa_y*pos++,"espinas:" + string(100*espinas/piso));
draw_text(x,y+sepa_y*pos++,"gases:" + string(100*gases/piso));
draw_text(x,y+sepa_y*pos++,"panes:" + string(100*panes/piso));
draw_text(x,y+sepa_y*pos++,"carteles:" + string(100*carteles/piso));
draw_text(x,y+sepa_y*pos++,"orbes:" + string(100*orbes/piso));
draw_text(x,y+sepa_y*pos++,"npcs:" + string(100*npcs/piso));
draw_text(x,y+sepa_y*pos++,"altares:" + string(100*altar/piso));
draw_text(x,y+sepa_y*pos++,"tesoros:" + string(100*tesoros/piso));
draw_text(x,y+sepa_y*pos++,"obstaculos:" + string(100*obstaculos/piso));
draw_text(x,y+sepa_y*pos++,"dardos:" + string(100*dardos/piso));
draw_text(x,y+sepa_y*pos++,"paredes falsas:" + string(100*paredes_falsas/piso));
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>corriendo = !corriendo;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
